â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  âœ… CHIASMA v1.0.2 - PRÃŠT Ã€ TESTER âœ…                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“… Date : DÃ©ployÃ© le 11 Novembre 2025
ğŸš€ Status : TOUT DÃ‰PLOYÃ‰ ET FONCTIONNEL

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… MODIFICATIONS COMPLÃ‰TÃ‰ES :

1. âœ… NIVEAUX & MATIÃˆRES (Ã‰cole - CrÃ©ation Offre)
   - Maternelle, Primaire (CP1-CM2), RÃ©pÃ©titeur Ã  Domicile
   - MatiÃ¨re "Autre (prÃ©cisez dans description)"
   - Fichier : lib/school/create_job_offer_page.dart

2. âœ… CACHE (Ã‰cole + Candidat)
   - Calcul rÃ©el de la taille du cache
   - Effacement fonctionnel avec confirmation
   - Fichiers : lib/school/school_home_screen.dart
              lib/teacher_candidate/candidate_home_screen.dart

3. âœ… NOTIFICATIONS PUSH ğŸ”” ğŸ“³
   - Son + Vibration automatiques
   - Cloud Functions dÃ©ployÃ©es
   - Configuration : Son "default", Vibration [500ms, 1s, 500ms]

4. âœ… ALGOLIA (Migration API Moderne)
   - Plus de warning de dÃ©prÃ©ciation
   - Compatible 2026+
   - Admin Key sÃ©curisÃ©e cÃ´tÃ© backend

5. âœ… NETTOYAGE
   - Fonctions CinetPay inutilisÃ©es supprimÃ©es
   - Code optimisÃ© et propre
   - Linter : 0 erreur

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”¥ 8 CLOUD FUNCTIONS DÃ‰PLOYÃ‰ES :

ğŸ“³ Notifications (3)
   â€¢ sendPushNotification     - Envoie auto avec son + vibration
   â€¢ cleanInvalidTokens       - Nettoyage auto tokens invalides
   â€¢ sendTestNotification     - Tests manuels

ğŸ” Algolia (4)
   â€¢ syncUserToAlgolia        - Sync auto utilisateurs
   â€¢ syncJobOfferToAlgolia    - Sync auto offres
   â€¢ reindexAllUsers          - RÃ©indexation manuelle
   â€¢ reindexAllJobOffers      - RÃ©indexation manuelle

ğŸ”§ Utilitaires (1)
   â€¢ helloWorld               - Test de santÃ©

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ PROCHAINE Ã‰TAPE : TESTER

1. L'APK est compilÃ© ici :
   ğŸ“ build/app/outputs/flutter-apk/app-release.apk

2. Installe sur 2 tÃ©lÃ©phones :
   ğŸ“± Un compte Ã‰cole
   ğŸ“± Un compte Candidat

3. Teste les notifications :
   â€¢ Candidat postule Ã  une offre
   â€¢ Ã‰cole accepte la candidature
   â€¢ âœ… Candidat reÃ§oit notification avec ğŸ”” + ğŸ“³

4. VÃ©rifie les logs (si besoin) :
   firebase functions:log --only sendPushNotification

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š ARCHITECTURE NOTIFICATIONS :

Ã‰cole accepte candidature
    â†“
NotificationService crÃ©e notification Firestore
    â†“
ğŸ”¥ Cloud Function se dÃ©clenche automatiquement
    â†“
RÃ©cupÃ¨re FCM token utilisateur
    â†“
Envoie push avec son + vibration
    â†“
ğŸ“± Candidat reÃ§oit notification ğŸ””ğŸ“³

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ’¾ FICHIERS IMPORTANTS :

Code :
  â€¢ functions/src/notifications.ts    - Logic notifications push
  â€¢ functions/src/algoliaSync.ts      - Sync Algolia (API moderne)
  â€¢ functions/.env                    - Variables backend (sÃ©curisÃ©)
  â€¢ lib/services/notification_service.dart - Service Flutter

Documentation :
  â€¢ DEPLOIEMENT_FINAL.md              - Guide complet
  â€¢ README_NOTIFICATIONS.md           - Vue d'ensemble notifications
  â€¢ CONFIGURATION_ALGOLIA.md          - Config Algolia

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”’ SÃ‰CURITÃ‰ :

âœ… Admin Key Algolia : Seulement dans functions/.env (backend)
âœ… .env dans .gitignore : JAMAIS commitÃ©
âœ… Search Key : Dans le code (safe, lecture seule)
âœ… FCM Tokens : GÃ©rÃ©s automatiquement par Firebase

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ’° COÃ›TS : 0â‚¬/mois

Firebase :
  â€¢ 2M invocations gratuites/mois
  â€¢ Usage estimÃ© Chiasma : ~30k/mois
  â€¢ CoÃ»t : 0â‚¬ âœ…

Algolia :
  â€¢ 10k recherches + 10k records gratuits/mois
  â€¢ Usage estimÃ© : ~1.5k records
  â€¢ CoÃ»t : 0â‚¬ âœ…

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ‰ TOUT EST PRÃŠT ! VA TESTER ! ğŸš€

Questions ? Consulte DEPLOIEMENT_FINAL.md

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
